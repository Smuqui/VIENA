<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Novatel_Gps: Gps Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Novatel_Gps
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d65/class_gps.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d3/dbe/class_gps-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Gps Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Declarations for the class gps()  
 <a href="../../dc/d65/class_gps.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a10a73359b33c1357564ebc83fc078000"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10a73359b33c1357564ebc83fc078000"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a10a73359b33c1357564ebc83fc078000">Gps</a> ()</td></tr>
<tr class="memdesc:a10a73359b33c1357564ebc83fc078000"><td class="mdescLeft">&#160;</td><td class="mdescRight">default constructor <br /></td></tr>
<tr class="separator:a10a73359b33c1357564ebc83fc078000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f9bd7cecf577d262c4ca5ae0adc3a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#aa3f9bd7cecf577d262c4ca5ae0adc3a0">begin</a> (const char *comPort=&quot;/dev/ttyUSB0&quot;, const char *log=&quot;gps.log&quot;, const char *data=&quot;data.csv&quot;, const int baudRate=9600)</td></tr>
<tr class="memdesc:aa3f9bd7cecf577d262c4ca5ae0adc3a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">implements the basic operations for configuring the communication port of the gps sensor  <a href="#aa3f9bd7cecf577d262c4ca5ae0adc3a0">More...</a><br /></td></tr>
<tr class="separator:aa3f9bd7cecf577d262c4ca5ae0adc3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177a15d446a5b43981d248d008843463"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a177a15d446a5b43981d248d008843463">sendUnlogall</a> ()</td></tr>
<tr class="memdesc:a177a15d446a5b43981d248d008843463"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructs an unlogall command to send for gps  <a href="#a177a15d446a5b43981d248d008843463">More...</a><br /></td></tr>
<tr class="separator:a177a15d446a5b43981d248d008843463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae585d24d10fbb73e854600eb79b5a163"><td class="memItemLeft" align="right" valign="top">speed_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#ae585d24d10fbb73e854600eb79b5a163">parseBaudRate</a> (const int baud)</td></tr>
<tr class="memdesc:ae585d24d10fbb73e854600eb79b5a163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the desired baudrate value.  <a href="#ae585d24d10fbb73e854600eb79b5a163">More...</a><br /></td></tr>
<tr class="separator:ae585d24d10fbb73e854600eb79b5a163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f011ca86a4e417d941c8d04d67902e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a8f011ca86a4e417d941c8d04d67902e0">setComSettings</a> (const uint32_t baud, const uint32_t port=THISPORT, const uint32_t parity=0, const uint32_t databits=8, const uint32_t stopbits=1, const uint32_t handshake=0, const uint32_t echo=0, const uint32_t _break=1)</td></tr>
<tr class="memdesc:a8f011ca86a4e417d941c8d04d67902e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">change communication configuration settings  <a href="#a8f011ca86a4e417d941c8d04d67902e0">More...</a><br /></td></tr>
<tr class="separator:a8f011ca86a4e417d941c8d04d67902e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a34c944b9dd58ef638180c43282b2b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a6a34c944b9dd58ef638180c43282b2b9">askLog</a> (const uint16_t messageID, const uint32_t port=THISPORT, uint32_t trigger=ONCE, double period=0, double offset=0)</td></tr>
<tr class="separator:a6a34c944b9dd58ef638180c43282b2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731cbdcf9826c3575ff0944f36b395c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a731cbdcf9826c3575ff0944f36b395c1"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>processResponses</b> ()</td></tr>
<tr class="separator:a731cbdcf9826c3575ff0944f36b395c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f75772b9d097b8de5543c473395821"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36f75772b9d097b8de5543c473395821"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>parseBestxyzLog</b> (struct <a class="el" href="../../d8/d59/struct__bestposxyz.html">_bestposxyz</a> data)</td></tr>
<tr class="separator:a36f75772b9d097b8de5543c473395821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ebad19913441ee47160769a6cf8e09"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18ebad19913441ee47160769a6cf8e09"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a18ebad19913441ee47160769a6cf8e09">getComPort</a> () const </td></tr>
<tr class="memdesc:a18ebad19913441ee47160769a6cf8e09"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns current defined communication port. <br /></td></tr>
<tr class="separator:a18ebad19913441ee47160769a6cf8e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ba16de6046a817d0d93b032a1fe52d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48ba16de6046a817d0d93b032a1fe52d"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a48ba16de6046a817d0d93b032a1fe52d">getErrorFlags</a> () const </td></tr>
<tr class="memdesc:a48ba16de6046a817d0d93b032a1fe52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the current Error flags value <br /></td></tr>
<tr class="separator:a48ba16de6046a817d0d93b032a1fe52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87563d7ab70bf84fca2650cdda936f39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a87563d7ab70bf84fca2650cdda936f39">getPortFd</a> () const </td></tr>
<tr class="memdesc:a87563d7ab70bf84fca2650cdda936f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current system File Descriptor for the device.  <a href="#a87563d7ab70bf84fca2650cdda936f39">More...</a><br /></td></tr>
<tr class="separator:a87563d7ab70bf84fca2650cdda936f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dfa032ac3831c993d641a77eb4bc6b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#a0dfa032ac3831c993d641a77eb4bc6b6">IsOpen</a> () const </td></tr>
<tr class="memdesc:a0dfa032ac3831c993d641a77eb4bc6b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if port is open.  <a href="#a0dfa032ac3831c993d641a77eb4bc6b6">More...</a><br /></td></tr>
<tr class="separator:a0dfa032ac3831c993d641a77eb4bc6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad115360ef95a15ddb5a050aef320312e"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#ad115360ef95a15ddb5a050aef320312e">getLogFd</a> () const </td></tr>
<tr class="memdesc:ad115360ef95a15ddb5a050aef320312e"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the current log file descriptor used by device.  <a href="#ad115360ef95a15ddb5a050aef320312e">More...</a><br /></td></tr>
<tr class="separator:ad115360ef95a15ddb5a050aef320312e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa931047d9a8aaa0c1328efb0a3bc72e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d65/class_gps.html#aaa931047d9a8aaa0c1328efb0a3bc72e">OpenError</a> () const </td></tr>
<tr class="memdesc:aaa931047d9a8aaa0c1328efb0a3bc72e"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if any error occurred during open device.  <a href="#aaa931047d9a8aaa0c1328efb0a3bc72e">More...</a><br /></td></tr>
<tr class="separator:aaa931047d9a8aaa0c1328efb0a3bc72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c7418fff91c5377c3d6260e8c728bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40c7418fff91c5377c3d6260e8c728bc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getBaudRate</b> ()</td></tr>
<tr class="separator:a40c7418fff91c5377c3d6260e8c728bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af99c8ce19bfb10d7b0247283b2d1911b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af99c8ce19bfb10d7b0247283b2d1911b"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>Help_processResponses</b> (void *context)</td></tr>
<tr class="separator:af99c8ce19bfb10d7b0247283b2d1911b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a618c4ae6c84b35a11f7935ef6c4f6d44"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a618c4ae6c84b35a11f7935ef6c4f6d44"></a>
pthread_t&#160;</td><td class="memItemRight" valign="bottom"><b>threadID</b></td></tr>
<tr class="separator:a618c4ae6c84b35a11f7935ef6c4f6d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a8d3f5da8cbc680dc9ec261576e144"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21a8d3f5da8cbc680dc9ec261576e144"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>lock</b></td></tr>
<tr class="separator:a21a8d3f5da8cbc680dc9ec261576e144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af180e65ee792487dc1108e8f21b61ea9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af180e65ee792487dc1108e8f21b61ea9"></a>
pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><b>gotLogResponce</b></td></tr>
<tr class="separator:af180e65ee792487dc1108e8f21b61ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67f946ae4ad473c9e3bc7ddf4430dc7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa67f946ae4ad473c9e3bc7ddf4430dc7"></a>
pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><b>gotUnlogResponce</b></td></tr>
<tr class="separator:aa67f946ae4ad473c9e3bc7ddf4430dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declarations for the class gps() </p>
<p><b>Hardware information:</b></p><ul>
<li>Receptor: Novatel Flexpak G2L-3151W</li>
<li>Antenna - Novatel Pinwheel</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Bruno Tib√©rio </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016 </dd></dl>

<p>Definition at line <a class="el" href="../../db/d34/gps_8h_source.html#l00169">169</a> of file <a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6a34c944b9dd58ef638180c43282b2b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Gps::askLog </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>messageID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>port</em> = <code>THISPORT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>trigger</em> = <code>ONCE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>period</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The log request command is defined as:</p>
<table class="doxtable">
<tr>
<th align="center">Field</th><th align="center">ID </th><th align="center">N Bytes </th><th align="left">Description  </th></tr>
<tr>
<td align="center">1 </td><td align="center">Log header </td><td align="center">H = 28 </td><td align="left">Header of message </td></tr>
<tr>
<td align="center">2 </td><td align="center">port </td><td align="center">ENUM = 4 </td><td align="left">identification of port </td></tr>
<tr>
<td align="center">3 </td><td align="center">message </td><td align="center">Ushort = 2 </td><td align="left">Message ID of log to output </td></tr>
<tr>
<td align="center">4 </td><td align="center">messageType</td><td align="center">char = 1 </td><td align="left">Message type (Binary) </td></tr>
<tr>
<td align="center">5 </td><td align="center">RESERVED </td><td align="center">char = 1 </td><td align="left"></td></tr>
<tr>
<td align="center">6 </td><td align="center">trigger </td><td align="center">ENUM = 4 </td><td align="left">message trigger </td></tr>
<tr>
<td align="center">7 </td><td align="center">period </td><td align="center">double = 8 </td><td align="left">Log period (for ONTIME in secs) </td></tr>
<tr>
<td align="center">8 </td><td align="center">offset </td><td align="center">double = 8 </td><td align="left">Offset for period (ONTIME in secs </td></tr>
<tr>
<td align="center">9 </td><td align="center">hold </td><td align="center">ENUM = 4 </td><td align="left">Hold log </td></tr>
<tr>
<td align="center">10 </td><td align="center">crc32 </td><td align="center">Ulong = 4 </td><td align="left">crc32 value </td></tr>
</table>
<p>Total byte size = header + 32 = 60 bytes</p>
<p>Log trigger Identifiers (field 6):</p>
<table class="doxtable">
<tr>
<th align="center">Binary </th><th align="center">ASCII </th><th align="left">Description  </th></tr>
<tr>
<td align="center">0 </td><td align="center">ONNEW </td><td align="left">when the message is updated (not necessarily changed) </td></tr>
<tr>
<td align="center">1 </td><td align="center">ONCHANGED </td><td align="left">Current message and then continue to output when the message is changed </td></tr>
<tr>
<td align="center">2 </td><td align="center">ONTIME </td><td align="left">Output on a time interval </td></tr>
<tr>
<td align="center">3 </td><td align="center">ONNEXT </td><td align="left">Output only the next message </td></tr>
<tr>
<td align="center">4 </td><td align="center">ONCE </td><td align="left">Output only the current message </td></tr>
<tr>
<td align="center">5 </td><td align="center">ONMARK </td><td align="left">Output when a pulse is detected on the mark 1 input </td></tr>
</table>

<p>Definition at line <a class="el" href="../../dc/d3d/gps_8cpp_source.html#l00517">517</a> of file <a class="el" href="../../dc/d3d/gps_8cpp_source.html">gps.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa3f9bd7cecf577d262c4ca5ae0adc3a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Gps::begin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comPort</em> = <code>&quot;/dev/ttyUSB0&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log</em> = <code>&quot;gps.log&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em> = <code>&quot;data.csv&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>baudRate</em> = <code>9600</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>implements the basic operations for configuring the communication port of the gps sensor </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comPort</td><td>system path to the port. Default is /dev/ttyUSB0 </td></tr>
    <tr><td class="paramname">log</td><td>the name of logfile. Default gps.log </td></tr>
    <tr><td class="paramname">baudRate</td><td>value of desired baudRate. Default 9600. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a bool if the configuration was sucessful or not. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d3d/gps_8cpp_source.html#l00089">89</a> of file <a class="el" href="../../dc/d3d/gps_8cpp_source.html">gps.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad115360ef95a15ddb5a050aef320312e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* Gps::getLogFd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the current log file descriptor used by device. </p>
<dl class="section return"><dt>Returns</dt><dd>FILE* pointer for the log file </dd></dl>

<p>Definition at line <a class="el" href="../../db/d34/gps_8h_source.html#l00292">292</a> of file <a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a>.</p>

</div>
</div>
<a class="anchor" id="a87563d7ab70bf84fca2650cdda936f39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Gps::getPortFd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the current system File Descriptor for the device. </p>
<dl class="section return"><dt>Returns</dt><dd>int value of system file descriptor for device. </dd></dl>

<p>Definition at line <a class="el" href="../../db/d34/gps_8h_source.html#l00272">272</a> of file <a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0dfa032ac3831c993d641a77eb4bc6b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gps::IsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check if port is open. </p>
<dl class="section return"><dt>Returns</dt><dd>True or False acording to the state of device </dd></dl>

<p>Definition at line <a class="el" href="../../db/d34/gps_8h_source.html#l00282">282</a> of file <a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaa931047d9a8aaa0c1328efb0a3bc72e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Gps::OpenError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check if any error occurred during open device. </p>
<dl class="section return"><dt>Returns</dt><dd>True or False accordingly </dd></dl>

<p>Definition at line <a class="el" href="../../db/d34/gps_8h_source.html#l00302">302</a> of file <a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae585d24d10fbb73e854600eb79b5a163"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">speed_t Gps::parseBaudRate </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>baud</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the desired baudrate value. </p>
<p>checks if the desired baudrate value is valid and accepted by the gps device. If the value is not valid, B9600 is returned.</p>
<p>The valid values are:</p>
<table class="doxtable">
<tr>
<th align="center">Baud </th><th align="left">Note  </th></tr>
<tr>
<td align="center">300 </td><td align="left"></td></tr>
<tr>
<td align="center">600 </td><td align="left"></td></tr>
<tr>
<td align="center">900 </td><td align="left">Tag B900 is not defined in linux termios.h. Using B9600 instead. </td></tr>
<tr>
<td align="center">1200 </td><td align="left"></td></tr>
<tr>
<td align="center">2400 </td><td align="left"></td></tr>
<tr>
<td align="center">4800 </td><td align="left"></td></tr>
<tr>
<td align="center">9600 </td><td align="left"></td></tr>
<tr>
<td align="center">19200 </td><td align="left"></td></tr>
<tr>
<td align="center">38400 </td><td align="left"></td></tr>
<tr>
<td align="center">57600 </td><td align="left"></td></tr>
<tr>
<td align="center">115200</td><td align="left"></td></tr>
<tr>
<td align="center">230400</td><td align="left">Tag B230400 is not defined in linux termios.h. Using B9600 instead. </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baud</td><td>the desired baudrate value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the corresponding macro for the given input. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d3d/gps_8cpp_source.html#l00204">204</a> of file <a class="el" href="../../dc/d3d/gps_8cpp_source.html">gps.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a177a15d446a5b43981d248d008843463"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Gps::sendUnlogall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constructs an unlogall command to send for gps </p>
<p>send command unlogall to gps device. Message is sent in binary mode On sucess clears all logs on all ports even held logs</p>
<p>unlogall message is defined as:</p>
<table class="doxtable">
<tr>
<th align="center">Field</th><th align="center">ID </th><th align="center">N Bytes </th><th align="center">Description  </th></tr>
<tr>
<td align="center">1 </td><td align="center">header </td><td align="center">H = 28 </td><td align="center">Header of message </td></tr>
<tr>
<td align="center">2 </td><td align="center">port </td><td align="center">ENUM = 4 </td><td align="center">identification of port </td></tr>
<tr>
<td align="center">3 </td><td align="center">Held </td><td align="center">ENUM = 4 </td><td align="center">can only be 0 or 1. Clear logs with hold flag or not? </td></tr>
<tr>
<td align="center">CRC32</td><td align="center"></td><td align="center">UL = 4 </td><td align="center">calculated crc32 value over all message </td></tr>
</table>
<p>See: OEMStar Firmware Reference Manual Rev 6 page 161 </p>

<p>Definition at line <a class="el" href="../../dc/d3d/gps_8cpp_source.html#l00244">244</a> of file <a class="el" href="../../dc/d3d/gps_8cpp_source.html">gps.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8f011ca86a4e417d941c8d04d67902e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Gps::setComSettings </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>baud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>port</em> = <code>THISPORT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>parity</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>databits</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>stopbits</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>handshake</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>echo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>_break</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>change communication configuration settings </p>
<dl class="section return"><dt>Returns</dt><dd>a bool if the configuration was sucessful or not</dd></dl>
<p>The com request command is defined as:</p>
<table class="doxtable">
<tr>
<th align="center">Field</th><th align="center">ID </th><th align="center">N Bytes </th><th align="left">Description  </th></tr>
<tr>
<td align="center">1 </td><td align="center">Com header </td><td align="center">H = 28 </td><td align="left">Header of message </td></tr>
<tr>
<td align="center">2 </td><td align="center">port </td><td align="center">ENUM = 4 </td><td align="left">identification of port </td></tr>
<tr>
<td align="center">3 </td><td align="center">baud </td><td align="center">Ulong = 4</td><td align="left">Communication baud rate (bps) </td></tr>
<tr>
<td align="center">4 </td><td align="center">parity </td><td align="center">ENUM = 4 </td><td align="left">Parity </td></tr>
<tr>
<td align="center">5 </td><td align="center">databits </td><td align="center">Ulong = 4</td><td align="left">Number of data bits (default = 8) </td></tr>
<tr>
<td align="center">6 </td><td align="center">stopbits </td><td align="center">Ulong = 4</td><td align="left">Number of stop bits (default = 1) </td></tr>
<tr>
<td align="center">7 </td><td align="center">handshake </td><td align="center">ENUM = 4 </td><td align="left">Handshaking </td></tr>
<tr>
<td align="center">8 </td><td align="center">echo </td><td align="center">ENUM = 4 </td><td align="left">No echo (default)(must be 0 or 1) </td></tr>
<tr>
<td align="center">9 </td><td align="center">break </td><td align="center">ENUM = 4 </td><td align="left">Enable break detection (default),(must be 0 or 1) </td></tr>
</table>
<p>Total byte size = header + 32 = 60 bytes</p>
<p>COM Serial Port Identifiers (field 2):</p>
<table class="doxtable">
<tr>
<th align="center">Binary </th><th align="center">ASCII </th><th align="left">Description  </th></tr>
<tr>
<td align="center">1 </td><td align="center">COM1 </td><td align="left">COM port 1 </td></tr>
<tr>
<td align="center">2 </td><td align="center">COM2 </td><td align="left">COM port 2 </td></tr>
<tr>
<td align="center">6 </td><td align="center">THISPORT </td><td align="left">The current COM port </td></tr>
<tr>
<td align="center">8 </td><td align="center">ALL </td><td align="left">All COM ports </td></tr>
<tr>
<td align="center">9 </td><td align="center">XCOM1 </td><td align="left">Virtual COM1 port </td></tr>
<tr>
<td align="center">10 </td><td align="center">XCOM2 </td><td align="left">Virtual COM2 port </td></tr>
<tr>
<td align="center">13 </td><td align="center">USB1 </td><td align="left">USB port 1 </td></tr>
<tr>
<td align="center">14 </td><td align="center">USB2 </td><td align="left">USB port 2 </td></tr>
<tr>
<td align="center">15 </td><td align="center">USB3 </td><td align="left">USB port 3 </td></tr>
<tr>
<td align="center">17 </td><td align="center">XCOM3 </td><td align="left">Virtual COM3 port </td></tr>
</table>
<p>Parity(field 4):</p>
<table class="doxtable">
<tr>
<th align="center">Binary </th><th align="center">ASCII </th><th align="left">Description  </th></tr>
<tr>
<td align="center">0 </td><td align="center">N </td><td align="left">No parity (default) </td></tr>
<tr>
<td align="center">1 </td><td align="center">E </td><td align="left">Even parity </td></tr>
<tr>
<td align="center">2 </td><td align="center">O </td><td align="left">Odd parity </td></tr>
</table>
<p>Handshaking (field 7):</p>
<table class="doxtable">
<tr>
<th align="center">Binary </th><th align="center">ASCII </th><th align="left">Description  </th></tr>
<tr>
<td align="center">0 </td><td align="center">N </td><td align="left">No handshaking (default) </td></tr>
<tr>
<td align="center">1 </td><td align="center">XON </td><td align="left">XON/XOFF software handshaking </td></tr>
<tr>
<td align="center">2 </td><td align="center">CTS </td><td align="left">CTS/RTS hardware handshaking </td></tr>
</table>
<p>See: OEMStar Firmware Reference Manual Rev 6 page 56 </p><dl class="bug"><dt><b><a class="el" href="../../de/da5/bug.html#_bug000001">Bug:</a></b></dt><dd>not being able to get a correct response parsing. Using only default settings for now. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000002">Todo:</a></b></dt><dd>check correct values for fields </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000003">Todo:</a></b></dt><dd>check sync header first </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000004">Todo:</a></b></dt><dd>handle diferent values </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d3d/gps_8cpp_source.html#l00355">355</a> of file <a class="el" href="../../dc/d3d/gps_8cpp_source.html">gps.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/<a class="el" href="../../db/d34/gps_8h_source.html">gps.h</a></li>
<li>source/<a class="el" href="../../dc/d3d/gps_8cpp_source.html">gps.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d65/class_gps.html">Gps</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
